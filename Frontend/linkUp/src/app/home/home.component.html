<div class="flex homecontainer">
  <app-navbar></app-navbar>
  <div class="home w-[90vw] flex ml-[10vw] py-6 gap-x-14">
    <div class="leftcontainer w-[40vw] flex flex-col">
      <!--DIVISION 1-->
      <div class="top">
        <!--SEARCH FUNCTIONALITY-->
        <div class="search-container flex gap-4">
          <!-- <div class="searchInput">
                        <input type="search" name="" id="" class="rounded-[10px] p-[10px]" placeholder="search post">
                    </div> -->
          <!--POST BUTTON-->
          <div class="search-btn">
            <button
              (click)="viewForm()"
              class="rounded-[10px] border-solid border-[1px] bg-[#7e22ce] border-[#7e22ce] outline-none px-8 py-[4px] hover:cursor-pointer text-white"
            >
              Create Post
            </button>
          </div>
        </div>
      </div>

      <!--DIVISION 2-->

      <!--MOCK POSTS START HERE-->
      <div class="postcontainer flex flex-col text-black font-550 text-base rounded-[15px]" *ngFor="let post of allPosts">
        <div class="post">
          <!-- <div><p class="py-2 font-[550] text-base">{{post.fullname}}</p></div> -->
          <div>
            <img
              src="{{post.imageUrl}}"
              class="rounded-[10px]"
              alt=""
            />
          </div>
          <div>
            <p class="py-2 text-center">
              {{post.postContent}}
            </p>
          </div>
          <div class="actions">
            <button>
              <i class="fa-solid fa-thumbs-up"></i>
              <span class="px-4">2200</span>
            </button>
            <button>
              <i class="fa-solid fa-comment"></i> <span class="px-4">300</span>
            </button>
          </div>
          <div class="flex justify-between items-center">
            <input
              type="text"
              placeholder="Type your comments"
              class="py-1.5"
            />
            <button type="submit" class="comment outline-none">
              <i class="fa-solid fa-paper-plane"></i>
            </button>
          </div>
          <!-- comments container -->
          <div class="postcomments p-2">
            <div class="py-2">
              <p class="font-bold">Christopher Brown</p>
              <p>
                Wishing you a Christmas filled with love, laughter, and the
                joyous sound of festive bells ringing in harmony! üéÖüéÅ‚ú®
                #MerryChristmas #SpreadCheer
              </p>
              <!--REPLY CONTAINER-->
              <button
                (click)="toggleReply()"
                class="text-[#6B7280] text-[13px] text-right"
              >
                Reply
              </button>
              <button class="text-[#6B7280] text-[13px] mx-8">Edit</button>
              <button class="text-[#6B7280] text-[13px]">Delete</button>
              <div
                *ngIf="showReply"
                class="reply-container flex justify-between items-center py-2"
              >
                <input
                  type="text"
                  placeholder="Type your reply"
                  class="py-1.0"
                />
                <button type="submit" class="comment outline-none">
                  <i class="fa-solid fa-paper-plane"></i>
                </button>
              </div>
              <!-- Dropdown for edit and delete -->
              <!-- <div class="dropdown mt-2 bg-red-500">
                                <button class=""><i class="fa-solid fa-ellipsis-vertical"></i></button>
                                <div class="dropdown-content bg-white border rounded-md hidden">
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Edit</button>
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Delete</button>
                                </div>
                            </div> -->
            </div>
            <div class="py-2">
              <p class="font-bold">Emma Li</p>
              <p>
                May the magic of the season wrap you in its warmth, and may
                every snowflake bring blessings your way! ‚ùÑÔ∏è‚ú® Merry Christmas,
                dear friends! üéÑüåü #SeasonsGreetings #CelebrateJoy
              </p>
              <!--REPLY CONTAINER-->
              <button
                (click)="toggleReply()"
                class="text-[#6B7280] text-[13px] text-right"
              >
                Reply
              </button>
              <button class="text-[#6B7280] text-[13px] mx-8">Edit</button>
              <button class="text-[#6B7280] text-[13px]">Delete</button>
              <div
                *ngIf="showReply"
                class="reply-container flex justify-between items-center py-2"
              >
                <input
                  type="text"
                  placeholder="Type your reply"
                  class="py-1.0"
                />
                <button type="submit" class="comment outline-none">
                  <i class="fa-solid fa-paper-plane"></i>
                </button>
              </div>
              <!-- Dropdown for edit and delete -->
              <!-- <div class="dropdown mt-2 bg-red-500">
                                <button class=""><i class="fa-solid fa-ellipsis-vertical"></i></button>
                                <div class="dropdown-content bg-white border rounded-md hidden">
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Edit</button>
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Delete</button>
                                </div>
                            </div> -->
            </div>
            <div class="py-2">
              <p class="font-bold">Jane Doe</p>
              <p>
                In the cozy glow of holiday lights, may your heart be aglow with
                peace, and your spirit be wrapped in the gift of togetherness.
                üïØÔ∏èüéâ Merry Christmas and Happy Holidays! üéÖüéÑ #ChristmasJoy
                #FamilyTime"
              </p>
              <!--REPLY CONTAINER-->
              <button
                (click)="toggleReply()"
                class="text-[#6B7280] text-[13px] text-right"
              >
                Reply
              </button>
              <button class="text-[#6B7280] text-[13px] mx-8">Edit</button>
              <button class="text-[#6B7280] text-[13px]">Delete</button>
              <div
                *ngIf="showReply"
                class="reply-container flex justify-between items-center py-2"
              >
                <input
                  type="text"
                  placeholder="Type your reply"
                  class="py-1.0"
                />
                <button type="submit" class="comment outline-none">
                  <i class="fa-solid fa-paper-plane"></i>
                </button>
              </div>
              <!-- Dropdown for edit and delete -->
              <!-- <div class="dropdown mt-2 bg-red-500">
                                <button class=""><i class="fa-solid fa-ellipsis-vertical"></i></button>
                                <div class="dropdown-content bg-white border rounded-md hidden">
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Edit</button>
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Delete</button>
                                </div>
                            </div> -->
            </div>
            <div class="py-2">
              <p class="font-bold">Chris Star</p>
              <p>
                As the snowflakes dance and the carolers sing, may your days be
                merry and your heart be light. Here's to a season of warmth,
                love, and unforgettable moments! üé∂‚ù§Ô∏èüéÑ #ChristmasMagic
                #JoyfulMoments
              </p>
              <!--REPLY CONTAINER-->
              <button
                (click)="toggleReply()"
                class="text-[#6B7280] text-[13px] text-right"
              >
                Reply
              </button>
              <button class="text-[#6B7280] text-[13px] mx-8">Edit</button>
              <button class="text-[#6B7280] text-[13px]">Delete</button>
              <div
                *ngIf="showReply"
                class="reply-container flex justify-between items-center py-2"
              >
                <input
                  type="text"
                  placeholder="Type your reply"
                  class="py-1.0"
                />
                <button type="submit" class="comment outline-none">
                  <i class="fa-solid fa-paper-plane"></i>
                </button>
              </div>
              <!-- Dropdown for edit and delete -->
              <!-- <div class="dropdown mt-2 bg-red-500">
                                <button class=""><i class="fa-solid fa-ellipsis-vertical"></i></button>
                                <div class="dropdown-content bg-white border rounded-md hidden">
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Edit</button>
                                    <button class="block w-full text-left py-2 px-4 hover:bg-gray-200">Delete</button>
                                </div>
                            </div> -->
            </div>
          </div>
        </div>
      </div>
      <!--MOCK POSTS END HERE-->

      <!---FORM CONTAINER-->
      <div class="postform overlay" *ngIf="isFormVisible">
        <div class="container">
          <div class="btns flex justify-end py-2">
            <button (click)="hideform()"><i class="fa-solid fa-xmark"></i></button>
             <!-- <input
                data-cy="add_post_btn"
                type="submit"
                value="Close Form"
                (click)="hideform()"
                class="rounded-[10px] border-solid border-[1px] bg-[#7e22ce] border-[#7e22ce] outline-none px-4 py-[8px] hover:cursor-pointer text-white"
              /> -->
          </div>
          <form
            action=""
            data-cy="addPostForm"
            [formGroup]="addPostForm"
            (ngSubmit)="newPost()"
            class="flex flex-col my-4 mx-6"
          >
            <div class="flex flex-col py-1">
              <label class="text-[1rem]">Image</label>
              <ngx-dropzone (change)="onSelectPostImage($event)">
                <ngx-dropzone-label>Drop Post Image</ngx-dropzone-label>
                <ngx-dropzone-preview
                  *ngFor="let f of files"
                  [removable]="true"
                  (removed)="onRemovePostImage(f)"
                >
                  <ngx-dropzone-label
                    >{{ f.name }} ({{ f.type }})</ngx-dropzone-label
                  >
                </ngx-dropzone-preview>
              </ngx-dropzone>

              <!-- <input data-cy="image" type="file" name="file" (change)="onFileChanged($event)" formControlName="image" placeholder="Image Url" class="rounded-[10px] border-solid border-[1px] border-gray-500 outline-none px-4 py-[4px] mt-[5px]"> -->
              <!-- <div *ngIf="addPostForm.get('image')?.invalid && addPostForm.get('image')?.touched" class="text-red-500">Image is required</div> -->
            </div>
            <div class="flex flex-col py-1">
              <label class="text-[1rem]">Caption</label>
              <input
                data-cy="content"
                type="text"
                formControlName="content"
                placeholder="content"
                class="rounded-[10px] border-solid border-[1px] border-gray-500 outline-none px-4 py-[4px] mt-[5px]"
              />
            </div>
            <div class="btns flex justify-end py-2">
              <input
                data-cy="add_post_btn"
                type="submit"
                value="Add new post"
                class="rounded-[10px] border-solid border-[1px] bg-[#7e22ce] border-[#7e22ce] outline-none px-4 py-[8px] hover:cursor-pointer text-white"
              />
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="personalinfo w-[20vw] text-black mr-[20px]">
      <p class="font-[550] text-lg">Suggestions</p>   
      <div class="my-[20px] rounded-[10px] py-1" *ngFor="let user of allusers">
        <img
          src="{{user.profileUrl}}"
          alt=""
        />
        <div>
          <p>{{user.fullname}}</p>
          <button
            class="rounded-[10px] border-solid border-[1px] bg-[#7e22ce] border-[#7e22ce] outline-none px-8 py-[4px] hover:cursor-pointer text-white"
          >
            Follow
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
